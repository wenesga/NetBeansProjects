PROGRAM EX10;
USES CRT;
TYPE aluno = RECORD
	numero : INTEGER;
	nome : STRING[20];
	curso: STRING[15];
	nota1, nota2 : REAL;
	ativo: INTEGER;
	END;
classe = FILE OF aluno;
VAR 	ALUNOS: classe;
	A: aluno;
	M,ACHOU,K: REAL;
        CURSO:STRING;
BEGIN
CLRSCR;
WRITE('DIGITE O NOME DO CURSO A SER CONSULTADO ');
READLN(CURSO);
ASSIGN(ALUNOS, 'C:\ALUNOS.DAT');
{$I-}
RESET(ALUNOS);
{$I+}
IF IORESULT = 2
   THEN REWRITE(ALUNOS);
K:=FILESIZE(ALUNOS);
IF K = 0
THEN WRITELN('ARQUIVO DE ALUNOS VAZIO')
ELSE BEGIN
     	ACHOU:=0;
WHILE NOT EOF(ALUNOS) DO
	BEGIN
	READ(ALUNOS, A);
	IF (A.ATIVO = 1) AND (A.CURSO = CURSO)
	THEN BEGIN
		WRITELN( 'NOME = ',A.NOME);
		WRITELN( 'NOTA 1 = ',A.NOTA1:5:2);
		WRITELN( 'NOTA 2 = ',A.NOTA2:5:2);
		ACHOU:=1;
		READLN;
		END;
	END;
        IF ACHOU = 0
        THEN WRITELN('NENHUM ALUNO NESTE CURSO');
        END;
CLOSE(ALUNOS);
READLN;
END.

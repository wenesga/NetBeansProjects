PROGRAM EX3;
USES CRT;
TYPE aluno = RECORD
	numero : INTEGER;
	nome : STRING[20];
	curso: STRING[15];
	nota1, nota2 : REAL;
	ativo: INTEGER;
	END;
classe = FILE OF aluno;
VAR 	ALUNOS: classe;
	A: aluno;
K, I, P, POSICAO: INTEGER;
	ACHOU : BOOLEAN;
	NUMERO: INTEGER;
	NOME: STRING[20];
CURSO: STRING[15];
NOTA1,NOTA2: REAL;
BEGIN
CLRSCR;
ASSIGN(ALUNOS, 'C:\ALUNOS.DAT');
{$I-}
RESET(ALUNOS);
{$I+}
IF IORESULT = 2
   THEN REWRITE(ALUNOS);
K := FILESIZE(ALUNOS);
I := 0;
ACHOU := FALSE;
WRITE('DIGITE O NÈMERO DO ALUNO PARA ALTERAR AS NOTAS ');
READLN(NUMERO);
WHILE ( I <= K -1 ) DO
	BEGIN
	SEEK(ALUNOS, I);
	READ(ALUNOS,A);
	IF (A.NUMERO = NUMERO) AND (A.ATIVO = 1)
		THEN BEGIN
			POSICAO := I;
			I := K + 1;
			ACHOU := TRUE;
			END
		ELSE I := I + 1;
	END;
IF ACHOU = TRUE
	THEN BEGIN
                WRITELN('NOTA 1 = ', A.NOTA1:5:2);
                REPEAT
		WRITE('DIGITE A NOVA NOTA1 ');
		READLN(NOTA1);
		UNTIL (NOTA1 >= 0) AND (NOTA1 <= 10);
                WRITELN('NOTA 2 = ', A.NOTA2:5:2);
                REPEAT
                WRITE('DIGITE A NOVA NOTA 2 ');
                READLN(NOTA2);
                UNTIL (NOTA2 >= 0) AND (NOTA2 <= 10);
                A. NOTA1 := NOTA1;
                A.NOTA2 :=NOTA2;
                SEEK(ALUNOS, POSICAO);
                WRITE(ALUNOS, A);
                WRITELN('ALTERAC«O EFETUADA ');
                END
        ELSE WRITELN('ALUNO N«O CADASTRADO ');
READLN;
CLOSE(ALUNOS);
END.

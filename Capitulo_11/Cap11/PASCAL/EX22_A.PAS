PROGRAM EX22;
USES CRT;
TYPE cliente = RECORD
     numero : INTEGER;
     nome : STRING[20];
     END;
clientes = FILE OF cliente;
TYPE conta = RECORD
     numero_conta : INTEGER;
     numero_cli : INTEGER;
     saldo : REAL;
END;
contas = FILE OF conta;
VAR 	con: contas;
	co: conta;
	cli: clientes;
	cl: cliente;
K, I : INTEGER;
ACHOU : BOOLEAN;
NUM_CLIENTE: INTEGER;
BEGIN
CLRSCR;
ASSIGN(CON, 'C:\CONTAS.DAT');
{$I-}
RESET(CON);
{$I+}
IF IORESULT = 2
   THEN REWRITE(CON);
ASSIGN(CLI, 'C:\CLIENTES.DAT');
{$I-}
RESET(CLI);
{$I+}
IF IORESULT = 2
   THEN REWRITE(CLI);
K := FILESIZE(CON);
WRITE('DIGITE O NÈMERO DO CLIENTE AO QUAL PERTENCE A CONTA ');
READLN(NUM_CLIENTE);
ACHOU:=FALSE;
WHILE NOT EOF(CLI) DO
BEGIN
READ(CLI,CL);
IF CL.NUMERO = NUM_CLIENTE
THEN ACHOU:=TRUE;
END;
IF ACHOU = FALSE
THEN WRITELN('ESTE CLIENTE N«O ESTµ CADASTRADO')
ELSE BEGIN
	ACHOU:=FALSE;
        WHILE NOT EOF(CON) DO
        BEGIN
        READ(CON,CO);
        IF CO.NUMERO_CLI = NUM_CLIENTE
        THEN BEGIN
             ACHOU:=TRUE;
             WRITELN('SALDO DA CONTA ',CO.NUMERO_CONTA,' = ',CO.SALDO:5:2);
	     END;
        END;
        IF ACHOU = FALSE
        THEN WRITELN('N«O EXISTE CONTA CASTRADA PARA ESTE CLIENTE');
     END;
 READLN;
CLOSE(CLI);
CLOSE(CON);
END.

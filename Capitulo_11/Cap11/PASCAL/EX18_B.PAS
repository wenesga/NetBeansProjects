PROGRAM EX18;
USES CRT;
TYPE vendedor = RECORD
	codigo_vendedor: INTEGER;
	nome_vendedor: STRING[20];
	mes: INTEGER;
	valor_venda: REAL;
	ativo: INTEGER;
END;
loja = FILE OF vendedor;
VAR L: loja;
    V: vendedor;
    MES,K,CODIGO_VENDEDOR: INTEGER;
    MAIOR: REAL;
    NOME_VENDEDOR: STRING[20];
BEGIN
CLRSCR;
MAIOR:=-1;
ASSIGN(L, 'C:\VENDAS.DAT');
{$I-}
RESET(L);
{$I+}
IF IORESULT = 2
   THEN REWRITE(L);
K:=FILESIZE(L);
IF K = 0
THEN WRITELN('ARQUIVO DE VENDAS VAZIO')
ELSE BEGIN
     WHILE NOT EOF(L) DO
     BEGIN
     READ(L, V);
     IF (V.VALOR_VENDA > MAIOR) AND (V.ATIVO = 1)
        THEN BEGIN
             MAIOR := V.VALOR_VENDA;
             CODIGO_VENDEDOR := V.CODIGO_VENDEDOR;
             NOME_VENDEDOR:=V.NOME_VENDEDOR;
             MES:=V.MES;
             END;
     END;
     WRITELN('CODIGO DO VENDEDOR = ',CODIGO_VENDEDOR);
     WRITELN('NOME DO VENDEDOR = ',NOME_VENDEDOR);
     WRITELN('MÒS DA MAIOR VENDA = ',MES);
     WRITELN('VALOR DA VENDA = ',MAIOR:7:2);
     END;
READLN;
CLOSE(L);
END.

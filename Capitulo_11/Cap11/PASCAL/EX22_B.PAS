PROGRAM EX22;
USES CRT;
TYPE cliente = RECORD
	numero : INTEGER;
	nome : STRING[20];
	ativo: INTEGER;
	END;
clientes = FILE OF cliente;
TYPE conta = RECORD
	numero_conta : INTEGER;
	numero_cli : INTEGER;
	saldo : REAL;
	ativo: integer;
END;
contas = FILE OF conta;
VAR 	com: contas;
	co: conta;
	cli: clientes;
	cl: cliente;
K, I : INTEGER;
ACHOU : BOOLEAN;
NUM_CLIENTE: INTEGER;
BEGIN
CLRSCR;
ASSIGN(COM, 'C:\CONTAS.DAT');
RESET(COM);
ASSIGN(CLI,'C:\CLIENTES.DAT');
RESET(CLI);
K := FILESIZE(COM);
WRITE('DIGITE O NÈMERO DO CLIENTE DA CONTA ');
READLN(NUM_CLIENTE);
ACHOU:=FALSE;
WHILE NOT EOF(CLI) DO
BEGIN
READ(CLI,CL);
IF (CL.NUMERO = NUM_CLIENTE) AND (CL.ATIVO  = 1)
THEN ACHOU:=TRUE;
END;
IF ACHOU = FALSE
THEN WRITELN('ESTE CLIENTE N«O ESTµ CADASTRADO')
ELSE BEGIN
	ACHOU:=FALSE;
WHILE NOT EOF(COM) DO
BEGIN
READ(COM,CO);
IF (CO.NUMERO_CLI = NUM_CLIENTE) AND (CO.ATIVO = 1)
THEN BEGIN
ACHOU:=TRUE;
WRITELN('CONTA ',CO.NUMERO_CONTA,' = ',CO.SALDO:5:2);
	END;
END;
IF ACHOU = FALSE
THEN WRITELN('N«O EXISTE CONTA CASTRADA PARA ESTE CLIENTE');
END;
READLN;
CLOSE(CLI);
CLOSE(COM);
END.
